<Project>

  <Import Project="Sdk.targets" Sdk="Microsoft.DotNet.Arcade.Sdk" Condition="'$(SkipArcadeSdkImport)' != 'true'" />

  <Target Name="DetermineSourceBuiltSdkVersion">
    <MSBuild Projects="$(RepoProjectsDir)installer.proj"
             Targets="GetProductVersion">
      <Output TaskParameter="TargetOutputs" PropertyName="SourceBuiltSdkVersion" />
    </MSBuild>

    <!-- Keep in sync with dotnet-sdk's archive location and filename.
         Example: artifacts\assets\<config>\Sdk\9.0.100-alpha.1.24057.1\dotnet-sdk-9.0.100-alpha.1.24057.1-fedora.38-x64.tar.gz -->
    <PropertyGroup>
      <SdkTarballPath>$([MSBuild]::NormalizePath('$(ArtifactsAssetsDir)', 'Sdk', '$(SourceBuiltSdkVersion)', 'dotnet-sdk-$(SourceBuiltSdkVersion)-$(TargetRid)$(ArchiveExtension)'))</SdkTarballPath>
    </PropertyGroup>
  </Target>

</Project>
