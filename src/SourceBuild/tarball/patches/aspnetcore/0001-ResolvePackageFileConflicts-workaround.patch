From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: MichaelSimons <msimons@microsoft.com>
Date: Fri, 11 Nov 2022 21:10:54 +0000
Subject: [PATCH] ResolvePackageFileConflicts workaround

---
 .../App.Runtime/src/Microsoft.AspNetCore.App.Runtime.csproj    | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/src/Framework/App.Runtime/src/Microsoft.AspNetCore.App.Runtime.csproj b/src/Framework/App.Runtime/src/Microsoft.AspNetCore.App.Runtime.csproj
index 3b5d2ae950..f92fb421fe 100644
--- a/src/Framework/App.Runtime/src/Microsoft.AspNetCore.App.Runtime.csproj
+++ b/src/Framework/App.Runtime/src/Microsoft.AspNetCore.App.Runtime.csproj
@@ -253,6 +253,9 @@ This package is an internal implementation of the .NET Core SDK and is not meant
     <ItemGroup>
       <!-- These files end up in this item group as a result of setting CopyLocalLockFileAssemblies, but shouldn't be. -->
       <ReferenceCopyLocalPaths Remove="@(ReferenceCopyLocalPaths)" Condition="'%(FileName)' == 'apphost' OR '%(FileName)' == '$(LibPrefix)hostfxr' OR '%(FileName)' == '$(LibPrefix)hostpolicy' "/>
+
+       <!-- TODO: Workaround ResolvePackageFileConflicts picking up the wrong file versions when conflicts exist - https://github.com/dotnet/aspnetcore/issues/45033 -->
+      <ReferenceCopyLocalPaths Remove="@(ReferenceCopyLocalPaths)" Condition="'%(FileName)' == 'System.Formats.Asn1' OR '%(FileName)' == 'System.Text.Encodings.Web' OR '%(FileName)' == 'System.Text.Json'"/>
     </ItemGroup>
   </Target>
 
