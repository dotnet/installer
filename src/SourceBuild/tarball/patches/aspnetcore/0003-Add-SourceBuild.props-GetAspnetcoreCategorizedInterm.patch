From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: MichaelSimons <msimons@microsoft.com>
Date: Wed, 18 May 2022 00:40:05 +0000
Subject: [PATCH] Add SourceBuild.props
 GetAspnetcoreCategorizedIntermediateNupkgContents Target

Backported with https://github.com/dotnet/aspnetcore/pull/41733
---
 eng/SourceBuild.props | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

diff --git a/eng/SourceBuild.props b/eng/SourceBuild.props
index f81ea7e5fe..aa175db452 100644
--- a/eng/SourceBuild.props
+++ b/eng/SourceBuild.props
@@ -72,4 +72,19 @@
     </PropertyGroup>
   </Target>
 
+  <Target Name="GetAspnetcoreCategorizedIntermediateNupkgContents"
+          BeforeTargets="GetCategorizedIntermediateNupkgContents">
+    <PropertyGroup>
+      <InstallersArtifactsDir>$(CurrentRepoSourceBuildArtifactsDir)\installers\$(Configuration)\</InstallersArtifactsDir>
+    </PropertyGroup>
+
+    <ItemGroup>
+      <!--
+        Add the internal installers artifacts required by dotnet/installer.
+      -->
+      <IntermediateNupkgArtifactFile Include="$(InstallersArtifactsDir)aspnetcore-runtime-internal-*.tar.gz" />
+      <IntermediateNupkgArtifactFile Include="$(InstallersArtifactsDir)aspnetcore_base_runtime.version" />
+    </ItemGroup>
+  </Target>
+
 </Project>
