### These steps clone the VMR (https://github.com/dotnet/dotnet) into $(Agent.BuildDirectory)/vmr

parameters:
- name: vmrBranch
  displayName: dotnet/dotnet branch to use
  type: string

- name: checkoutToBranch
  displayName: Check out the repo to the specified vmrBranch
  type: boolean
  default: false

steps:
  - checkout: vmr
    displayName: Clone dotnet/dotnet
    path: vmr
    clean: true

- ${{ if parameters.checkoutToBranch }}:
  - script: |
      git checkout --track origin/${{ parameters.vmrBranch }}
      echo "##vso[task.setvariable variable=vmrBranch]${{ parameters.vmrBranch }}"
    displayName: Check out ${{ parameters.vmrBranch }}
    workingDirectory: $(Agent.BuildDirectory)/vmr